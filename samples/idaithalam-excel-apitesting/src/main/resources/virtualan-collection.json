[
  {
    "id": 1,
    "operationId": "riskfactor",
    "httpStatusCode": "200",
    "url": "/riskfactor/compute",
    "type": "Script",
    "requestType": "",
    "usageCount": 0,
    "priority": 0,
    "method": "POST",
    "input": "{\n  \"birthday\" : \"1918-10-24\",\n  \"postalCode\" : \"60563\"\n}",
    "rule": "import java.time.*\n\ndef executeScript(mockServiceRequest, responseObject) {\n    int age = getAge(mockServiceRequest.getInput().getBirthday());\n    String postalCode = mockServiceRequest.getInput().getPostalCode();\n    int riskFactor = computeRiskFactor(age, postalCode);\n    responseObject.setHttpStatusCode(\"200\");\n    responseObject.setOutput(String.valueOf(riskFactor));\n    return responseObject.builder();\n}\n\ndef getAge(birthday) {\n    LocalDate now = LocalDate.now();\n    return Period.between(birthday, now).getYears();\n}\n\ndef computeRiskFactor(age, postalCode) {\n    int ageGroupRiskFactor = computeAgeGroupRiskFactor(age);\n    int localityRiskFactor = computeLocalityRiskFactor(postalCode);\n    return (ageGroupRiskFactor + localityRiskFactor) / 2;\n}\n\ndef computeAgeGroupRiskFactor(age) {\n    if(age > 90) {\n        return 100;\n    } else if(age > 70) {\n        return 90;\n    } else if(age > 60) {\n        return 70;\n    } else if(age > 50) {\n        return 60;\n    } else if(age > 40) {\n        return 50;\n    } else if(age > 25) {\n        return 20;\n    } else {\n        return 40;\n    }\n}\n\ndef  computeLocalityRiskFactor( postalCodeStr) {\n    try{\n\t\tint postalCode = Integer.parseInt(postalCodeStr);\n\t\tif ((postalCode >= 8000 && postalCode < 9000) || (postalCode >= 1000 && postalCode < 2000)) {\n\t\t\treturn 80;\n\t\t} else if (postalCode >= 5000 && postalCode < 6000) {\n\t\t\treturn 10;\n\t\t} else {\n\t\t\treturn 30;\n\t\t}\n\t} catch(NumberFormatException e) {\n\t\t\treturn 0;\n\t\t}\n}",
    "output": "40",
    "availableParams": [],
    "headerParams": [],
    "excludeList": "",
    "resource": "riskfactor",
    "lastUsedDateTime": "2020-11-15T16:16:15.409+0000"
  },
  {
    "id": 2,
    "operationId": "addPet",
    "httpStatusCode": "201",
    "url": "/pets",
    "type": "Response",
    "requestType": "REST",
    "usageCount": 1,
    "priority": 0,
    "method": "POST",
    "input": "{\n    \"category\": {\n        \"id\": 100,\n        \"name\": \"German Shepherd\"\n    },\n    \"id\": 101,\n    \"name\": \"Rocky\",\n    \"photoUrls\": [\n        \"string\"\n    ],\n    \"status\": \"available\",\n    \"tags\": [\n        {\n            \"id\": 101,\n            \"name\": \"brown\"\n        }\n    ]\n}",
    "output": "{\n    \"category\": {\n        \"id\": 100,\n        \"name\": \"German Shepherd\"\n    },\n    \"id\": 101,\n    \"name\": \"Rocky\",\n    \"photoUrls\": [\n        \"string\"\n    ],\n    \"status\": \"available\",\n    \"tags\": [\n        {\n            \"id\": 101,\n            \"name\": \"brown\"\n        }\n    ]\n}",
    "availableParams": [],
    "headerParams": [],
    "resource": "pets",
    "lastUsedDateTime": "2020-12-14T02:00:07.778+0000"
  },
  {
    "id": 4,
    "operationId": "getPetById",
    "httpStatusCode": "200",
    "url": "/pets/{petId}",
    "type": "Response",
    "requestType": "REST",
    "usageCount": 6,
    "priority": 0,
    "method": "GET",
    "output": "{\n  \"category\": {\n    \"id\": 100,\n    \"name\": \"german shepherd\"\n  },\n  \"id\": 101,\n  \"name\": \"Rocky\",\n  \"photoUrls\": [\n    \"string\"\n  ],\n  \"status\": \"available\",\n  \"tags\": [\n    {\n      \"id\": 101,\n      \"name\": \"brown\"\n    }\n  ]\n}",
    "availableParams": [
      {
        "key": "petId",
        "value": "100",
        "type": null,
        "serviceType": null,
        "parameterType": null
      }
    ],
    "headerParams": [],
    "resource": "pets",
    "lastUsedDateTime": "2020-12-14T03:29:55.323+0000"
  },
  {
    "id": 5,
    "operationId": "getPetById",
    "httpStatusCode": "200",
    "url": "/pets/{petId}",
    "type": "Response",
    "requestType": "REST",
    "usageCount": 6,
    "priority": 0,
    "method": "GET",
    "output": "{\n  \"category\": {\n    \"id\": 200,\n    \"name\": \"Bulldog\"\n  },\n  \"id\": 201,\n  \"name\": \"Butch\",\n  \"photoUrls\": [\n    \"string\"\n  ],\n  \"status\": \"available\",\n  \"tags\": [\n    {\n      \"id\": 201,\n      \"name\": \"grey\"\n    }\n  ]\n}",
    "availableParams": [
      {
        "key": "petId",
        "value": "200",
        "type": null,
        "serviceType": null,
        "parameterType": null
      }
    ],
    "headerParams": [],
    "resource": "pets",
    "lastUsedDateTime": "2020-12-14T03:31:27.432+0000"
  },
  {
    "id": 6,
    "operationId": "deletePet",
    "httpStatusCode": "200",
    "url": "/pets/{petId}",
    "type": "Response",
    "requestType": "REST",
    "usageCount": 1,
    "priority": 0,
    "method": "DELETE",
    "availableParams": [
      {
        "key": "petId",
        "value": "100",
        "type": null,
        "serviceType": null,
        "parameterType": null
      }
    ],
    "headerParams": [],
    "resource": "pets",
    "lastUsedDateTime": "2020-12-14T02:18:02.550+0000"
  },
  {
    "id": 7,
    "operationId": "deletePet",
    "httpStatusCode": "200",
    "url": "/pets/{petId}",
    "type": "Response",
    "requestType": "REST",
    "usageCount": 4,
    "priority": 0,
    "method": "DELETE",
    "availableParams": [
      {
        "key": "petId",
        "value": "200",
        "type": null,
        "serviceType": null,
        "parameterType": null
      }
    ],
    "headerParams": [],
    "resource": "pets",
    "lastUsedDateTime": "2020-12-14T03:40:48.196+0000"
  },
  {
    "id": 8,
    "operationId": "addPet",
    "httpStatusCode": "201",
    "url": "/pets",
    "type": "Response",
    "requestType": "REST",
    "usageCount": 1,
    "priority": 0,
    "method": "POST",
    "input": "{\n    \"category\": {\n        \"id\": 200,\n        \"name\": \"Bulldog\"\n    },\n    \"id\": 201,\n    \"name\": \"Butch\",\n    \"photoUrls\": [\n        \"string\"\n    ],\n    \"status\": \"available\",\n    \"tags\": [\n        {\n            \"id\": 201,\n            \"name\": \"grey\"\n        }\n    ]\n}",
    "output": "{\n    \"category\": {\n        \"id\": 200,\n        \"name\": \"Bulldog\"\n    },\n    \"id\": 201,\n    \"name\": \"Butch\",\n    \"photoUrls\": [\n        \"string\"\n    ],\n    \"status\": \"available\",\n    \"tags\": [\n        {\n            \"id\": 201,\n            \"name\": \"grey\"\n        }\n    ]\n}",
    "availableParams": [],
    "headerParams": [],
    "resource": "pets",
    "lastUsedDateTime": "2020-12-14T02:20:26.061+0000"
  },
  {
    "id": 12,
    "operationId": "updatePet",
    "httpStatusCode": "200",
    "url": "/pets/{petId}",
    "type": "Response",
    "requestType": "REST",
    "usageCount": 3,
    "priority": 0,
    "method": "PUT",
    "input": "{\n    \"category\": {\n        \"id\": 200,\n        \"name\": \"Bulldog\"\n    },\n    \"id\": 201,\n    \"name\": \"Butch\",\n    \"photoUrls\": [\n        \"string\"\n    ],\n    \"status\": \"available\",\n    \"tags\": [\n        {\n            \"id\": 201,\n            \"name\": \"white gray\"\n        }\n    ]\n}",
    "output": "{\n    \"category\": {\n        \"id\": 200,\n        \"name\": \"Bulldog\"\n    },\n    \"id\": 201,\n    \"name\": \"Butch\",\n    \"photoUrls\": [\n        \"string\"\n    ],\n    \"status\": \"available\",\n    \"tags\": [\n        {\n            \"id\": 201,\n            \"name\": \"white gray\"\n        }\n    ]\n}",
    "availableParams": [
      {
        "key": "petId",
        "value": "200",
        "type": null,
        "serviceType": null,
        "parameterType": null
      }
    ],
    "headerParams": [],
    "resource": "pets",
    "lastUsedDateTime": "2020-12-14T02:35:02.439+0000"
  },
  {
    "id": 13,
    "operationId": "updatePet",
    "httpStatusCode": "200",
    "url": "/pets/{petId}",
    "type": "Response",
    "requestType": "REST",
    "usageCount": 2,
    "priority": 0,
    "method": "PUT",
    "input": "{\n    \"category\": {\n        \"id\": 100,\n        \"name\": \"german shepherd\"\n    },\n    \"id\": 101,\n    \"name\": \"Rocky\",\n    \"photoUrls\": [\n        \"string\"\n    ],\n    \"status\": \"available\",\n    \"tags\": [\n        {\n            \"id\": 101,\n            \"name\": \"brown\"\n        }\n    ]\n}",
    "output": "{\n    \"category\": {\n        \"id\": 100,\n        \"name\": \"german shepherd\"\n    },\n    \"id\": 101,\n    \"name\": \"Rocky\",\n    \"photoUrls\": [\n        \"string\"\n    ],\n    \"status\": \"available\",\n    \"tags\": [\n        {\n            \"id\": 101,\n            \"name\": \"brown\"\n        }\n    ]\n}",
    "availableParams": [
      {
        "key": "petId",
        "value": "100",
        "type": null,
        "serviceType": null,
        "parameterType": null
      }
    ],
    "headerParams": [],
    "resource": "pets",
    "lastUsedDateTime": "2020-12-14T02:33:23.529+0000"
  },
  {
    "id": 14,
    "operationId": "findPetsByTags",
    "httpStatusCode": "200",
    "url": "/pets/findByTags",
    "type": "Response",
    "requestType": "REST",
    "usageCount": 2,
    "priority": 0,
    "method": "GET",
    "output": "{\n    \"category\": {\n        \"id\": 100,\n        \"name\": \"german shepherd\"\n    },\n    \"id\": 101,\n    \"name\": \"Rocky\",\n    \"photoUrls\": [\n        \"string\"\n    ],\n    \"status\": \"available\",\n    \"tags\": [\n        {\n            \"id\": 101,\n            \"name\": \"brown\"\n        }\n    ]\n}",
    "availableParams": [
      {
        "key": "tags",
        "value": "brown",
        "type": null,
        "serviceType": null,
        "parameterType": null
      }
    ],
    "headerParams": [],
    "resource": "pets",
    "lastUsedDateTime": "2020-12-14T03:36:26.932+0000"
  },
  {
    "id": 15,
    "operationId": "findPetsByTags",
    "httpStatusCode": "200",
    "url": "/pets/findByTags",
    "type": "Response",
    "requestType": "REST",
    "usageCount": 3,
    "priority": 0,
    "method": "GET",
    "output": "{\n    \"category\": {\n        \"id\": 200,\n        \"name\": \"Bulldog\"\n    },\n    \"id\": 201,\n    \"name\": \"Butch\",\n    \"photoUrls\": [\n        \"string\"\n    ],\n    \"status\": \"available\",\n    \"tags\": [\n        {\n            \"id\": 201,\n            \"name\": \"grey\"\n        }\n    ]\n}",
    "availableParams": [
      {
        "key": "tags",
        "value": "grey",
        "type": null,
        "serviceType": null,
        "parameterType": null
      }
    ],
    "headerParams": [],
    "resource": "pets",
    "lastUsedDateTime": "2020-12-14T03:39:58.678+0000"
  },
  {
    "id": 16,
    "operationId": "findPetsByStatus",
    "httpStatusCode": "200",
    "url": "/pets/findByStatus",
    "type": "Response",
    "requestType": "REST",
    "usageCount": 2,
    "priority": 0,
    "method": "GET",
    "output": "{\n    \"category\": {\n        \"id\": 100,\n        \"name\": \"german shepherd\"\n    },\n    \"id\": 101,\n    \"name\": \"Rocky\",\n    \"photoUrls\": [\n        \"string\"\n    ],\n    \"status\": \"available\",\n    \"tags\": [\n        {\n            \"id\": 101,\n            \"name\": \"brown\"\n        }\n    ]\n}",
    "availableParams": [
      {
        "key": "status",
        "value": "available",
        "type": null,
        "serviceType": null,
        "parameterType": null
      }
    ],
    "headerParams": [],
    "resource": "pets",
    "lastUsedDateTime": "2020-12-14T03:38:44.452+0000"
  }
]